
| 문제                                             | 분류           | 티어 |   
|------------------------------------------------|--------------|----|   
| [마왕의 성](https://www.acmicpc.net/problem/28083) | Union & Find | 플레5 |

### 문제 풀이

n과 m의 최대 길이가 1000이라서, 최대 1000*1000 배열에서 4방향으로 탐색을 해서 성을 해당 칸에 세울 경우 최대값을 구해야 한다.   
단순하게, BFS나 DFS를 한다고 하면 분명히 시간초과를 받게 될 것이다. 연산의 횟수를 줄이거나, 최적화를 위한 추가적인 구현이 필요하다.   

(1,1) 에서 시작해서, 인접하면서 높이가 같거나 작은 곳은 여러번 방문 되는 특징이 있다.    
(1,2) (2,2)와 같이 여러번 방문한 곳은 방문한다면 (1,1)의 값을 꺼내오는 작업이 필요하고, 이를 위해 Union & Find를 사용한다.   

로직은 다음과 같다.
1. 높이는 낮은곳에서 높은곳으로 탐색한다.
2. 탐색을 하는 과정에서 상하좌우를 살피고, 방문한곳인지, 배열 범위를 벗어나는지, 높이가 큰지를 검사해서 이동할 수 있는 지 판단한다.
3. 이동이 가능하다면 같은 집합인지 검사하고, Union을 통해서 해당 칸의 세금을 더해주고, 집합을 합쳐준다.

이 과정에서, 이차원 배열의 유니온 파인드기 때문에 추가적인 스킬이 필요하다.   
2차원을 1차원으로 압축하는 방법은 좌표 (i,j)를 i*m +j 로 값을 치환하면 된다.