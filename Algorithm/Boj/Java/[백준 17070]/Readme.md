## 문제 풀이

```text
나는 문제를 읽고 DP로 접근을 했는데, 다른 풀이를 보니 DFS로 푼 사람들이 꽤 많았다.
개인적으로 DFS보단 BFS를 선호하고, DFS로 풀 생각을 하지 못했어서 DP로 풀었고, 그에 따른 방법을 설명하겠다.
```
우선 DP로 선택한 이유는 파이프를 놓는 위치가 이전의 선택들에게 영향을 받는다는 점이었다.

즉 (i, j)로 파이프를 놓을 때,  방향에 따라 이전 위치의 경우의 수에 영향을 받는다는 것이다.

예를 들어 좌표를 (i, j)로 고정시켜서 설명하겠습니다.

### 가로로 놓을 경우
- 가로로 파이프를 연결할 수 있는 경우는 이전 위치에서 가로, 대각선으로 연결된 경우이다.    
- 여기서 이전 위치는 왼쪽에 있는 (i, j-1)   
- 따라서 (i, j)에 가로로 놓을 수 있는 경우의 수는 (i, j-1) 위치에서 가로로 연결된 경우의 수와 대각선으로 연결된 경우의 수를 더해주면 된다.

### 세로로 놓을 경우
- 세로로 파이프를 연결할 수 있는 경우는 이전 위치에서 세로, 대각선으로 연결된 경우이다.    
- 여기서 이전 위치는 위에 있는 (i-1, j)   
- 따라서 (i, j)에 세로로 놓을 수 있는 경우 의 수는 (i-1, j)에서 세로와 대각선으로 연결된 경우의 수를 더해주면 된다.

### 대각선으로 놓을 경우
- 대각선으로 파이프를 연결할 수 있는 경우는 이전 위치에서 가로, 세로, 대각선으로 연결된 경우이다.
- 여기서 이전 위치는 (i-1, j-1)이다.    
- 여기서 하나 더 생각해줘야 할 점은 대각선으로 놓을 경우 주변에 벽이 있으면 안 된다.
- 주변은 (i-1, j) , (i, j-1)
- 따라서 (i, j)에 대각선으로 놓을 수 있는 경우의 수는 (i-1, j-1)에서 가로, 세로, 대각선으로 연결된 경우의 수를 더해주면 된다.
이렇게 각 좌표마다 3가지의 파이프 경우의 수를 저장해야 했기에, dp배열을 3차원으로 선언했다.

```text
dp [i][j][0] : (i, j)에 가로로 파이프를 연결할 수 있는 경우의 수
dp [i][j][1] : (i, j)에 세로로 파이프를 연결할 수 있는 경우의 수
dp [i][j][2] : (i, j)에 대각선으로 파이프를 연결할 수 있는 경우의 수
```